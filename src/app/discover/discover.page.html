<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-item lines="none">
      <h3>{{'AROUNDME' | translate}}</h3>
      <ion-buttons slot="end" *ngIf="me?.membership !== 1">
        <ion-button class="nav-button discover" (click)="showSearch()">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
            <circle cx="10.7669" cy="10.7664" r="8.98856" stroke="url(#paint0_linear_101_678)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M17.0186 17.4849L20.5426 20.9997" stroke="url(#paint1_linear_101_678)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <defs>
              <linearGradient id="paint0_linear_101_678" x1="10.7669" y1="1.77783" x2="10.7669" y2="19.7549" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
              <linearGradient id="paint1_linear_101_678" x1="18.7806" y1="17.4849" x2="18.7806" y2="20.9997" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
            </defs>
          </svg>
        </ion-button>
        <ion-button class="nav-button discover" (click)="showFilter()">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <g clip-path="url(#clip0_101_667)">
              <path d="M15 10C16.6569 10 18 8.65685 18 7C18 5.34315 16.6569 4 15 4C13.3431 4 12 5.34315 12 7C12 8.65685 13.3431 10 15 10Z" stroke="url(#paint0_linear_101_667)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M4 7H12" stroke="url(#paint1_linear_101_667)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M18 7L20 7" stroke="url(#paint2_linear_101_667)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9 20C10.6569 20 12 18.6569 12 17C12 15.3431 10.6569 14 9 14C7.34315 14 6 15.3431 6 17C6 18.6569 7.34315 20 9 20Z" stroke="url(#paint3_linear_101_667)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M4 17H6" stroke="url(#paint4_linear_101_667)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 17L20 17" stroke="url(#paint5_linear_101_667)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </g>
            <defs>
              <linearGradient id="paint0_linear_101_667" x1="15" y1="4" x2="15" y2="10" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
              <linearGradient id="paint1_linear_101_667" x1="8" y1="7" x2="8" y2="8" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
              <linearGradient id="paint2_linear_101_667" x1="19" y1="7" x2="19" y2="8" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
              <linearGradient id="paint3_linear_101_667" x1="9" y1="14" x2="9" y2="20" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
              <linearGradient id="paint4_linear_101_667" x1="5" y1="17" x2="5" y2="18" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
              <linearGradient id="paint5_linear_101_667" x1="16" y1="17" x2="16" y2="18" gradientUnits="userSpaceOnUse">
                <stop stop-color="#E0030C"/>
                <stop offset="1" stop-color="#9B0207"/>
              </linearGradient>
              <clipPath id="clip0_101_667">
                <rect width="24" height="24" fill="white"/>
              </clipPath>
            </defs>
          </svg>
        </ion-button>
      </ion-buttons>
    </ion-item>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div *ngIf="me?.membership !== 1">
    <div class="user-container ion-padding">
      <div class="slider" *ngIf="!loading">
        <app-user-card [loading]="loading" *ngFor="let user of usersByDistance" [me]="me" [user]="user" type="discover" (click)="showProfile(user)"></app-user-card>
      </div>
      <div class="slider" *ngIf="loading && me">
        <app-user-card [loading]="loading" *ngFor="let user of [1,2,3,4,5,6]" [me]="me" [user]="me" type="discover"></app-user-card>
      </div>
    </div>
    <div class="map-container ion-padding">
      <div #mapElement class="map"></div>
      <ion-buttons>
        <ion-button class="nav-button" (click)="zoomIn()"><ion-icon name="remove-outline"></ion-icon></ion-button>
        <ion-button class="nav-button" (click)="zoomOut()"><ion-icon name="add-outline"></ion-icon></ion-button>
      </ion-buttons>
    </div>
  </div>
  <div *ngIf="me?.membership === 1" class="ion-padding">
    <h6 class="light-h6 ion-text-center">{{'FUNCTIONNOTAVAILABLE' | translate}}</h6>
    <app-abonnements *ngIf="me" [me]="me" (onBuy)="subscribe($event)"></app-abonnements>
  </div>
</ion-content>
