<ion-header>
  <ion-toolbar>
    <ion-button class="nav-button" (click)="closeModal()">
      <ion-icon name="close-outline"></ion-icon>
    </ion-button>
  </ion-toolbar>
  <div class="progress-bar ion-padding">
    <div class="pointer-wrapper" [ngClass]="{'active': currentStep === 0}" (click)="setStep(0)">
      <div style="align-self: baseline">
        <svg class="pointer" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
          <circle cx="16" cy="16" r="15" stroke="#E0030C" stroke-width="2"/>
          <text x="11.5" y="21" class="value" font-size="15">1</text>
        </svg>
        <p>{{'PICTURES' | translate}}</p>
      </div>
    </div>
    <div class="pointer-wrapper" [ngClass]="{'active': currentStep === 1}" (click)="setStep(1)">
      <svg class="distance" xmlns="http://www.w3.org/2000/svg" width="152" height="4" viewBox="0 0 152 4">
        <path d="M2 2H150" stroke-width="3" stroke-linecap="round" stroke-dasharray="8 8"/>
      </svg>
      <div>
        <svg class="pointer" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
          <circle cx="16" cy="16" r="15" stroke="#E0030C" stroke-width="2"/>
          <text x="11.5" y="21" class="value" font-size="15">2</text>
        </svg>
        <p>{{'MYDETAILS' | translate}}</p>
      </div>
    </div>
    <div class="pointer-wrapper" [ngClass]="{'active': currentStep === 2}" (click)="setStep(2)">
      <svg class="distance" xmlns="http://www.w3.org/2000/svg" width="152" height="4" viewBox="0 0 152 4" fill="none">
        <path d="M2 2H150" stroke-width="3" stroke-linecap="round" stroke-dasharray="8 8"/>
      </svg>
      <div>
        <svg class="pointer" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
          <circle cx="16" cy="16" r="15" stroke="#E0030C" stroke-width="2"/>
          <text x="11.5" y="21" class="value" font-size="15">3</text>
        </svg>
        <p>{{'MYINFOS' | translate}}</p>
      </div>
    </div>
  </div>
</ion-header>

<ion-content class="ion-padding">
  <swiper-container #editSlides auto-height="true">
    <swiper-slide>
      <h3 class="ion-text-center">{{'UPLOADPICTURES' | translate}}</h3>
      <p class="ion-text-center">{{'UPLOADPUBLICANDPRIVATE' | translate}}</p>
      <div>
        <ion-label>{{'PUBLICPICTURES' | translate}}</ion-label>
        <div class="profile-picture-box">
          <div class="picture-box primary" (click)="showOptions(true)">
            <img [lazyLoad]="user.profilePictures.thumbnails?.small || user.profilePictures.original"
                 errorImage="assets/images/no-image.png" [defaultImage]="'assets/images/loading.svg'"/>
          </div>
          <div class="picture-box" *ngFor="let picture of user.publicAlbum;let i = index"
               (click)="showOptions(false, i, true)">
            <img [lazyLoad]="picture.thumbnails?.small || picture.original" errorImage="assets/images/no-image.png"
                 [defaultImage]="'assets/images/loading.svg'"/>
          </div>
          <div class="picture-box add" (click)="chooseImage(true)" *ngIf="user.publicAlbum?.length < 7">
            <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 42 42" fill="none">
              <path
                d="M38.0625 19.25V29.75C38.0625 33.9815 35.7315 36.3125 31.5 36.3125H10.5C6.2685 36.3125 3.9375 33.9815 3.9375 29.75V12.25C3.9375 8.0185 6.2685 5.6875 10.5 5.6875H22.75C23.4745 5.6875 24.0625 6.2755 24.0625 7C24.0625 7.7245 23.4745 8.3125 22.75 8.3125H10.5C7.74025 8.3125 6.5625 9.49025 6.5625 12.25V28.4375L11.0076 23.9924C11.6901 23.3099 12.8099 23.3099 13.4924 23.9924L15.1375 25.6373C15.47 25.9698 16.03 25.9698 16.3625 25.6373L25.0076 16.9924C25.6901 16.3099 26.8099 16.3099 27.4924 16.9924L35.4375 24.9375V19.25C35.4375 18.5255 36.0255 17.9375 36.75 17.9375C37.4745 17.9375 38.0625 18.5255 38.0625 19.25ZM13.9878 13.5625C12.7821 13.5625 11.8125 14.5425 11.8125 15.75C11.8125 16.9575 12.7994 17.9375 14.0034 17.9375C15.2092 17.9375 16.1875 16.9575 16.1875 15.75C16.1875 14.5425 15.2109 13.5625 14.0034 13.5625H13.9878ZM29.75 10.0625H31.9375V12.25C31.9375 12.9745 32.5255 13.5625 33.25 13.5625C33.9745 13.5625 34.5625 12.9745 34.5625 12.25V10.0625H36.75C37.4745 10.0625 38.0625 9.4745 38.0625 8.75C38.0625 8.0255 37.4745 7.4375 36.75 7.4375H34.5625V5.25C34.5625 4.5255 33.9745 3.9375 33.25 3.9375C32.5255 3.9375 31.9375 4.5255 31.9375 5.25V7.4375H29.75C29.0255 7.4375 28.4375 8.0255 28.4375 8.75C28.4375 9.4745 29.0255 10.0625 29.75 10.0625Z"
                fill="url(#paint0_linear_100_2597)"/>
              <defs>
                <linearGradient id="paint0_linear_100_2597" x1="21" y1="3.9375" x2="21" y2="36.3125"
                                gradientUnits="userSpaceOnUse">
                  <stop stop-color="#E0030C"/>
                  <stop offset="1" stop-color="#9B0207"/>
                </linearGradient>
              </defs>
            </svg>
          </div>
        </div>
      </div>
      <div style="margin-top: 1rem;">
        <ion-label>{{'PRIVATEGALLERY' | translate}}</ion-label>
        <div class="profile-picture-box">
          <div class="picture-box" *ngFor="let picture of user.privateAlbum; let i = index"
               (click)="showOptions(false, i, false)">
            <img [lazyLoad]="picture.thumbnails?.small || picture.original" errorImage="assets/images/no-image.png"
                 [defaultImage]="'assets/images/loading.svg'"/>
          </div>
          <div class="picture-box add" (click)="chooseImage(false)" *ngIf="user.privateAlbum?.length < 8">
            <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 42 42" fill="none">
              <path
                d="M38.0625 19.25V29.75C38.0625 33.9815 35.7315 36.3125 31.5 36.3125H10.5C6.2685 36.3125 3.9375 33.9815 3.9375 29.75V12.25C3.9375 8.0185 6.2685 5.6875 10.5 5.6875H22.75C23.4745 5.6875 24.0625 6.2755 24.0625 7C24.0625 7.7245 23.4745 8.3125 22.75 8.3125H10.5C7.74025 8.3125 6.5625 9.49025 6.5625 12.25V28.4375L11.0076 23.9924C11.6901 23.3099 12.8099 23.3099 13.4924 23.9924L15.1375 25.6373C15.47 25.9698 16.03 25.9698 16.3625 25.6373L25.0076 16.9924C25.6901 16.3099 26.8099 16.3099 27.4924 16.9924L35.4375 24.9375V19.25C35.4375 18.5255 36.0255 17.9375 36.75 17.9375C37.4745 17.9375 38.0625 18.5255 38.0625 19.25ZM13.9878 13.5625C12.7821 13.5625 11.8125 14.5425 11.8125 15.75C11.8125 16.9575 12.7994 17.9375 14.0034 17.9375C15.2092 17.9375 16.1875 16.9575 16.1875 15.75C16.1875 14.5425 15.2109 13.5625 14.0034 13.5625H13.9878ZM29.75 10.0625H31.9375V12.25C31.9375 12.9745 32.5255 13.5625 33.25 13.5625C33.9745 13.5625 34.5625 12.9745 34.5625 12.25V10.0625H36.75C37.4745 10.0625 38.0625 9.4745 38.0625 8.75C38.0625 8.0255 37.4745 7.4375 36.75 7.4375H34.5625V5.25C34.5625 4.5255 33.9745 3.9375 33.25 3.9375C32.5255 3.9375 31.9375 4.5255 31.9375 5.25V7.4375H29.75C29.0255 7.4375 28.4375 8.0255 28.4375 8.75C28.4375 9.4745 29.0255 10.0625 29.75 10.0625Z"
                fill="url(#paint0_linear_100_2597)"/>
              <defs>
                <linearGradient id="paint0_linear_100_2597" x1="21" y1="3.9375" x2="21" y2="36.3125"
                                gradientUnits="userSpaceOnUse">
                  <stop stop-color="#E0030C"/>
                  <stop offset="1" stop-color="#9B0207"/>
                </linearGradient>
              </defs>
            </svg>
          </div>
        </div>
      </div>
    </swiper-slide>
    <swiper-slide>
      <h3 class="ion-text-center">{{'MYINFOS' | translate}}</h3>
      <p class="ion-text-center">{{'TELLUSABOUTYOURSELF' | translate}}</p>
      <ion-label>{{'USERNAME' | translate}}</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding">
        <ion-input placeholder="{{'USERNAME' | translate}}"
                   [(ngModel)]="user.username"></ion-input>
      </ion-item>
      <ion-label>{{'CATEGORIES' | translate}}</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding">
        <ion-select [multiple]="true" [(ngModel)]="user.categories">
          <ion-select-option *ngFor="let category of categories"
                             [value]="category.key">{{category.value}}</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-label>{{'ethnicity' | translate}}</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding">
        <ion-select [(ngModel)]="user.details.ethnicity">
          <ion-select-option *ngFor="let ethnicity of ethnicities"
                             [value]="ethnicity.key">{{ethnicity.value}}</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-label>{{'nationality' | translate}}</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding">
        <ion-select (ionChange)="onSelectCountry($event)" [value]="user.details.nationality?.code">
          <ion-select-option *ngFor="let country of countries"
                             [value]="country.key">{{country.country}}</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-label>{{'languages' | translate}}</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding">
        <ion-select [(ngModel)]="user.details.languages" [multiple]="true">
          <ion-select-option *ngFor="let language of languages"
                             [value]="language.key">{{language.value}}</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-label>{{'fakeAge' | translate}}</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding">
        <ion-input type="number" [(ngModel)]="user.fakeAge" [min]="18"></ion-input>
      </ion-item>
      <ion-label>{{'chest' | translate}}</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding" (click)="openPicker(
        'chest',
        user._settings.units.lengthType === 'Inch' ? 'inch' : 'cm',
        user._settings.units.lengthType === 'Inch' ? 24 : 60,
        user._settings.units.lengthType === 'Inch' ? 55 : 140,
        user._settings.units.lengthType === 'Inch' ? 35 : 90
        )">
        <p>{{user._settings.units.lengthType === 'Inch' ? user.details.chest?.inch : user.details.chest?.cm}}</p>
        <ion-label slot="end">{{user._settings.units.lengthType === 'Inch' ? 'inch' : 'cm'}}</ion-label>
      </ion-item>
      <div *ngIf="user.gender !== 1">
        <ion-label>{{'chestCup' | translate}}</ion-label>
        <ion-item style="height: 45px" lines="none" class="input-item select-item ion-no-padding" (click)="openPicker(
        'chestCup',
        null,
        null,
        null,
        'D'
        )">
          <p>{{user.details.chestCup}}</p>
        </ion-item>
      </div>
      <ion-label>{{'eyeColor' | translate}}</ion-label>
      <ion-item style="height: 45px" lines="none" class="input-item select-item ion-no-padding" (click)="openPicker(
        'eyeColor'
        )">
        <p>{{user.details.eyeColor | translate}}</p>
        <ion-label slot="end"></ion-label>
      </ion-item>
      <ion-label>{{'hairColor' | translate}}</ion-label>
      <ion-item style="height: 45px" lines="none" class="input-item select-item ion-no-padding" (click)="openPicker(
        'hairColor'
        )">
        <p>{{user.details.hairColor | translate}}</p>
      </ion-item>
      <ion-label>{{'weight' | translate}}</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding" (click)="openPicker(
        'weight',
        user._settings.units.weightType === 'Lbs' ? 'lbs' : 'kg',
        user.gender === 1
        ? user._settings.units.weightType === 'Lbs' ? getLbsFromKg(60)  : 60
        : user._settings.units.weightType === 'Lbs' ? getLbsFromKg(40)  : 40,
        user.gender === 1
        ? user._settings.units.weightType === 'Lbs' ? getLbsFromKg(250)  : 250
        : user._settings.units.weightType === 'Lbs' ? getLbsFromKg(200)  : 200,
        user.gender === 1
        ? user._settings.units.weightType === 'Lbs' ? getLbsFromKg(80) : 80
        :user._settings.units.weightType === 'Lbs' ? getLbsFromKg(60)  : 60

        )">
        <p>{{user._settings.units.weightType === 'Lbs' ? user.details.weight?.lbs : user.details.weight?.kg}}</p>
        <ion-label slot="end">{{user._settings.units.weightType === 'Lbs' ? 'lbs' : 'kg'}}</ion-label>
      </ion-item>
      <ion-label>{{'height' | translate}}</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding" (click)="openPicker(
        'height',
        user._settings.units.lengthType === 'Inch' ? 'inch' : 'cm',
        user.gender === 1
        ? user._settings.units.lengthType === 'Inch' ? getInchFromCm(130)  : 130
        : user._settings.units.lengthType === 'Inch' ? getInchFromCm(130)  : 130,
        user.gender === 1
        ? user._settings.units.lengthType === 'Inch' ? getInchFromCm(220)  : 220
        : user._settings.units.lengthType === 'Inch' ? getInchFromCm(220)  : 220,
        user.gender === 1
        ? user._settings.units.lengthType === 'Inch' ? getInchFromCm(180)  : 180
        : user._settings.units.lengthType === 'Inch' ? getInchFromCm(165)  : 165
        )">
        <p>{{user._settings.units.lengthType === 'Inch' ? user.details.height?.inch : user.details.height?.cm}}</p>
        <ion-label slot="end">{{user._settings.units.lengthType === 'Inch' ? 'inch' : 'cm'}}</ion-label>
      </ion-item>
      <ion-label>{{'waist' | translate}}</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding" (click)="openPicker(
        'waist',
        user._settings.units.lengthType === 'Inch' ? 'inch' : 'cm',
        user.gender === 1
        ? user._settings.units.lengthType === 'Inch' ? getInchFromCm(60)  : 60
        : user._settings.units.lengthType === 'Inch' ? getInchFromCm(40)  : 40,
        user.gender === 1
        ? user._settings.units.lengthType === 'Inch' ? getInchFromCm(140)  : 140
        : user._settings.units.lengthType === 'Inch' ? getInchFromCm(120)  : 120,
        user.gender === 1
        ? user._settings.units.lengthType === 'Inch' ? getInchFromCm(90)  : 90
        : user._settings.units.lengthType === 'Inch' ? getInchFromCm(60)  : 60
        )">
        <p>{{user._settings.units.lengthType === 'Inch' ? user.details.waist?.inch : user.details.waist?.cm}}</p>
        <ion-label slot="end">{{user._settings.units.lengthType === 'Inch' ? 'inch' : 'cm'}}</ion-label>
      </ion-item>
      <ion-label>{{'hips' | translate}}</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding" (click)="openPicker(
        'hips',
        user._settings.units.lengthType === 'Inch' ? 'inch' : 'cm',
        user.gender === 1
        ? user._settings.units.lengthType === 'Inch' ? getInchFromCm(60)  : 60
        : user._settings.units.lengthType === 'Inch' ? getInchFromCm(60)  : 60,
        user.gender === 1
        ? user._settings.units.lengthType === 'Inch' ? getInchFromCm(120)  : 120
        : user._settings.units.lengthType === 'Inch' ? getInchFromCm(120)  : 120,
        user.gender === 1
        ? user._settings.units.lengthType === 'Inch' ? getInchFromCm(110)  : 110
        : user._settings.units.lengthType === 'Inch' ? getInchFromCm(90)  : 90
        )">
        <p>{{user._settings.units.lengthType === 'Inch' ? user.details.hips?.inch : user.details.hips?.cm}}</p>
        <ion-label slot="end">{{user._settings.units.lengthType === 'Inch' ? 'inch' : 'cm'}}</ion-label>
      </ion-item>
      <ion-label>{{'hairLength' | translate}}</ion-label>
      <ion-item style="height: 45px" lines="none" class="input-item select-item ion-no-padding" (click)="openPicker(
        'hairLength'
        )">
        <p>{{user.details.hairLength | translate}}</p>
      </ion-item>
    </swiper-slide>
    <swiper-slide>
      <h3 class="ion-text-center">{{'MYDETAILS' | translate}}</h3>
      <p class="ion-text-center">{{'ENTERCONTACTDETAILS' | translate}}</p>
      <ion-label>{{'PHONENUMBER' | translate}}</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding">
        <ion-icon name="caret-down-outline" slot="start" (click)="openPicker('phoneNumber')"></ion-icon>
        <p class="ion-margin-end" style="margin-right: 5px" *ngIf="!user.contacts.phoneNumber?.countryCode">{{'COUNTRYCODE' | translate}} </p>
        <p class="ion-margin-end" style="margin-right: 5px" *ngIf="user.contacts.phoneNumber?.countryCode">
          +{{user.contacts.phoneNumber.countryCode}} </p>
        <ion-input (ionInput)="nonZeroValidation('phoneNumber')" placeholder="{{'PHONENUMBER' | translate}}"
                   [(ngModel)]="user.contacts.phoneNumber.number"></ion-input>
      </ion-item>
      <ion-label>WhatsApp</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding">
        <ion-icon name="caret-down-outline" slot="start" (click)="openPicker('whatsApp')"></ion-icon>
        <p class="ion-margin-end" style="margin-right: 5px" *ngIf="!user.contacts.whatsApp?.countryCode">{{'COUNTRYCODE' | translate}} </p>
        <p class="ion-margin-end" style="margin-right: 5px" *ngIf="user.contacts.whatsApp?.countryCode">
          +{{user.contacts.whatsApp.countryCode}} </p>
        <ion-input (ionInput)="nonZeroValidation('whatsApp')" [(ngModel)]="user.contacts.whatsApp.number" pattern="tel" placeholder="{{'PHONENUMBER' | translate}}" ></ion-input>
      </ion-item>
      <ion-label>Instagram</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding">
        <svg slot="start" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path
            d="M20.94 8.28975C20.87 6.84975 20.54 5.56976 19.49 4.51976C18.44 3.46976 17.16 3.13977 15.72 3.06977C14.23 2.98977 9.78002 2.98977 8.30002 3.06977C6.86002 3.13977 5.59003 3.46976 4.53003 4.51976C3.47003 5.56976 3.15002 6.84975 3.08002 8.28975C3.00002 9.77975 3.00002 14.2298 3.08002 15.7198C3.15002 17.1598 3.48003 18.4398 4.53003 19.4898C5.59003 20.5398 6.86002 20.8698 8.30002 20.9398C9.79002 21.0198 14.24 21.0198 15.72 20.9398C17.16 20.8698 18.44 20.5398 19.49 19.4898C20.54 18.4398 20.87 17.1598 20.94 15.7198C21.02 14.2298 21.02 9.77976 20.94 8.29976V8.28975ZM12 16.7498C9.38003 16.7498 7.25003 14.6198 7.25003 11.9998C7.25003 9.37976 9.38003 7.24976 12 7.24976C14.62 7.24976 16.75 9.37976 16.75 11.9998C16.75 14.6198 14.62 16.7498 12 16.7498ZM17.52 7.49976C16.97 7.49976 16.52 7.04976 16.52 6.49976C16.52 5.94976 16.96 5.49976 17.52 5.49976C18.07 5.49976 18.52 5.94976 18.52 6.49976C18.52 7.04976 18.07 7.49976 17.52 7.49976ZM15.25 11.9998C15.25 13.7898 13.79 15.2498 12 15.2498C10.21 15.2498 8.75003 13.7898 8.75003 11.9998C8.75003 10.2098 10.21 8.74976 12 8.74976C13.79 8.74976 15.25 10.2098 15.25 11.9998Z"
            fill="url(#paint0_linear_100_3001)"/>
          <defs>
            <linearGradient id="paint0_linear_100_3001" x1="12.01" y1="3.00977" x2="12.01" y2="20.9998"
                            gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
          </defs>
        </svg>
        <ion-input placeholder="Instagram" [(ngModel)]="user.socialMedia.instagram"></ion-input>
      </ion-item>
      <ion-label>TikTok</ion-label>
      <ion-item lines="none" class="input-item select-item ion-no-padding">
        <svg slot="start" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path
            d="M20 10.38C18.45 10.38 16.69 9.89998 15.43 8.99998V15.28C15.43 18.44 12.8701 21 9.71005 20.99C6.55005 20.99 3.99003 18.43 4.00003 15.27C4.00003 12.11 6.56 9.54998 9.72 9.55998C9.98 9.55998 10.24 9.57999 10.5 9.60999V12.77C9.12003 12.34 7.64005 13.1 7.21005 14.49C6.78005 15.88 7.54002 17.35 8.93002 17.78C10.31 18.21 11.79 17.45 12.22 16.06C12.3 15.81 12.3401 15.54 12.3401 15.27V2.97998H15.43C15.43 3.23998 15.45 3.49998 15.5 3.75998C15.72 4.91998 16.4001 5.93999 17.4001 6.57999C18.1001 7.03999 19.17 7.28998 20.01 7.28998V10.36L20 10.38Z"
            fill="url(#paint0_linear_100_3007)"/>
          <defs>
            <linearGradient id="paint0_linear_100_3007" x1="12.005" y1="2.97998" x2="12.005" y2="20.99"
                            gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
          </defs>
        </svg>
        <ion-input placeholder="Tiktok" [(ngModel)]="user.socialMedia.tikTok"></ion-input>
      </ion-item>
    </swiper-slide>
  </swiper-container>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <div class="btn-container">
      <ion-button expand="block" (click)="save()" style="width:100%">{{'SAVE' | translate}}</ion-button>
    </div>
  </ion-toolbar>
</ion-footer>
