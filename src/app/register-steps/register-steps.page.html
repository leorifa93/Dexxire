<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-back-button defaultHref="login" slot="start" text="{{'CANCELREGISTRATION' | translate}}" (click)="cancelRegistration()"></ion-back-button>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div>
    <h3 class="ion-text-center">{{'PERSONALINFORMATION' | translate}}</h3>
    <p class="ion-text-center">{{'COMPLETEPROFILE' | translate}}</p>
  </div>
  <ion-label>{{'USERNAME' | translate}}</ion-label>
  <ion-item lines="none" class="ion-item ion-no-padding">
    <fieldset class="input-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M8.00903 6.5C8.00903 4.294 9.80303 2.5 12.009 2.5C14.215 2.5 16.009 4.294 16.009 6.5C16.009 8.706 14.215 10.5 12.009 10.5C9.80303 10.5 8.00903 8.706 8.00903 6.5ZM14 12.5H10C5.94 12.5 4.5 15.473 4.5 18.019C4.5 20.296 5.71105 21.5 8.00305 21.5H15.9969C18.2889 21.5 19.5 20.296 19.5 18.019C19.5 15.473 18.06 12.5 14 12.5Z" fill="url(#paint0_linear_100_2412)"/>
        <defs>
          <linearGradient id="paint0_linear_100_2412" x1="12" y1="2.5" x2="12" y2="21.5" gradientUnits="userSpaceOnUse">
            <stop stop-color="#E0030C"/>
            <stop offset="1" stop-color="#9B0207"/>
          </linearGradient>
        </defs>
      </svg>
      <ion-input [(ngModel)]="user.username" type="text" placeholder="{{'USERNAME' | translate}}"></ion-input>
    </fieldset>
  </ion-item>
  <ion-label>{{'BIRTHDAY' | translate}}</ion-label>
  <ion-item lines="none" class="ion-item ion-no-padding">
    <fieldset class="input-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M20.7 9.75H3.30005C3.13405 9.75 3 9.88405 3 10.05V18C3 20 4 21 6 21H18C20 21 21 20 21 18V10.05C21 9.88405 20.866 9.75 20.7 9.75ZM8.02002 18C7.46802 18 7.01489 17.552 7.01489 17C7.01489 16.448 7.45801 16 8.01001 16H8.02002C8.57302 16 9.02002 16.448 9.02002 17C9.02002 17.552 8.57202 18 8.02002 18ZM8.02002 14C7.46802 14 7.01489 13.552 7.01489 13C7.01489 12.448 7.45801 12 8.01001 12H8.02002C8.57302 12 9.02002 12.448 9.02002 13C9.02002 13.552 8.57202 14 8.02002 14ZM12.02 18C11.468 18 11.0149 17.552 11.0149 17C11.0149 16.448 11.458 16 12.01 16H12.02C12.573 16 13.02 16.448 13.02 17C13.02 17.552 12.572 18 12.02 18ZM12.02 14C11.468 14 11.0149 13.552 11.0149 13C11.0149 12.448 11.458 12 12.01 12H12.02C12.573 12 13.02 12.448 13.02 13C13.02 13.552 12.572 14 12.02 14ZM16.02 18C15.468 18 15.0149 17.552 15.0149 17C15.0149 16.448 15.458 16 16.01 16H16.02C16.573 16 17.02 16.448 17.02 17C17.02 17.552 16.572 18 16.02 18ZM16.02 14C15.468 14 15.0149 13.552 15.0149 13C15.0149 12.448 15.458 12 16.01 12H16.02C16.573 12 17.02 12.448 17.02 13C17.02 13.552 16.572 14 16.02 14ZM21 7.5V7.94995C21 8.11595 20.866 8.25 20.7 8.25H3.30005C3.13405 8.25 3 8.11595 3 7.94995V7.5C3 5.5 4 4.5 6 4.5H7.25V3C7.25 2.59 7.59 2.25 8 2.25C8.41 2.25 8.75 2.59 8.75 3V4.5H15.25V3C15.25 2.59 15.59 2.25 16 2.25C16.41 2.25 16.75 2.59 16.75 3V4.5H18C20 4.5 21 5.5 21 7.5Z" fill="url(#paint0_linear_100_2419)"/>
        <defs>
          <linearGradient id="paint0_linear_100_2419" x1="12" y1="2.25" x2="12" y2="21" gradientUnits="userSpaceOnUse">
            <stop stop-color="#E0030C"/>
            <stop offset="1" stop-color="#9B0207"/>
          </linearGradient>
        </defs>
      </svg>
      <ion-datetime-button datetime="datetime"></ion-datetime-button>

      <ion-modal [keepContentsMounted]="true">
        <ng-template>
          <ion-datetime [showDefaultButtons]="true" [preferWheel]="true" [(ngModel)]="user.birthday" max="{{maxDate}}" value="{{maxDate}}" presentation="date" id="datetime"></ion-datetime>
        </ng-template>
      </ion-modal>
    </fieldset>
  </ion-item>
  <ion-label>{{'GENDER' | translate}}</ion-label>
  <div class="gender-box">
    <div class="gender" *ngFor="let gender of genders" [ngClass]="{'active-gender': user.gender === gender.key}" (click)="selectGender(gender.key)">
      <div>
        <svg *ngIf="gender.key === 1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <g clip-path="url(#clip0_100_2424)">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M19 4C19.5523 4 20 4.44772 20 5V10C20 10.5523 19.5523 11 19 11C18.4477 11 18 10.5523 18 10V7.41382L14.8906 10.5232C15.5891 11.5041 16 12.7041 16 14C16 17.3137 13.3137 20 10 20C6.68629 20 4 17.3137 4 14C4 10.6863 6.68629 8 10 8C11.2957 8 12.4955 8.41073 13.4763 9.10909L16.5854 6H14C13.4477 6 13 5.55228 13 5C13 4.44772 13.4477 4 14 4H18.9994H18.9998H19ZM6 14C6 11.7909 7.79086 10 10 10C12.2091 10 14 11.7909 14 14C14 16.2091 12.2091 18 10 18C7.79086 18 6 16.2091 6 14Z" fill="url(#paint0_linear_100_2424)"/>
          </g>
          <defs>
            <linearGradient id="paint0_linear_100_2424" x1="12" y1="4" x2="12" y2="20" gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
            <clipPath id="clip0_100_2424">
              <rect width="24" height="24" fill="white"/>
            </clipPath>
          </defs>
        </svg>
        <svg *ngIf="gender.key === 2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <g clip-path="url(#clip0_100_2435)">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 5C9.79086 5 8 6.79086 8 9C8 11.2091 9.79086 13 12 13C14.2091 13 16 11.2091 16 9C16 6.79086 14.2091 5 12 5ZM18 9C18 11.973 15.8377 14.441 13 14.917V17H15C15.5523 17 16 17.4477 16 18C16 18.5523 15.5523 19 15 19H13V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21V19H9C8.44772 19 8 18.5523 8 18C8 17.4477 8.44772 17 9 17H11V14.917C8.16229 14.441 6 11.973 6 9C6 5.68629 8.68629 3 12 3C15.3137 3 18 5.68629 18 9Z" fill="url(#paint0_linear_100_2435)"/>
          </g>
          <defs>
            <linearGradient id="paint0_linear_100_2435" x1="12" y1="3" x2="12" y2="22" gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
            <clipPath id="clip0_100_2435">
              <rect width="24" height="24" fill="white"/>
            </clipPath>
          </defs>
        </svg>
        <svg *ngIf="gender.key === 3" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <g clip-path="url(#clip0_100_2441)">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M21 1C21.5523 1 22 1.44772 22 2V7C22 7.55228 21.5523 8 21 8C20.4477 8 20 7.55228 20 7V4.41382L16.8906 7.52324C17.5891 8.5041 18 9.70407 18 11C18 14.3137 15.3137 17 12 17C8.68629 17 6 14.3137 6 11C6 7.68629 8.68629 5 12 5C13.2957 5 14.4955 5.41073 15.4763 6.10909L18.5854 3H16C15.4477 3 15 2.55228 15 2C15 1.44772 15.4477 1 16 1H20.9994H20.9998H21ZM8 11C8 8.79086 9.79086 7 12 7C14.2091 7 16 8.79086 16 11C16 13.2091 14.2091 15 12 15C9.79086 15 8 13.2091 8 11Z" fill="url(#paint0_linear_100_2441)"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M3 1C2.44772 1 2 1.44772 2 2V7C2 7.55228 2.44771 8 3 8C3.55229 8 4 7.55228 4 7V4.41382L7.10942 7.52324C6.41086 8.5041 6 9.70407 6 11C6 14.3137 8.68629 17 12 17C15.3137 17 18 14.3137 18 11C18 7.68629 15.3137 5 12 5C10.7043 5 9.50447 5.41073 8.52369 6.10909L5.4146 3H8C8.55229 3 9 2.55228 9 2C9 1.44772 8.55229 1 8 1H3.00056H3.00022H3ZM16 11C16 8.79086 14.2091 7 12 7C9.79086 7 8 8.79086 8 11C8 13.2091 9.79086 15 12 15C14.2091 15 16 13.2091 16 11Z" fill="url(#paint1_linear_100_2441)"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 7C9.79086 7 8 8.79086 8 11C8 13.2091 9.79086 15 12 15C14.2091 15 16 13.2091 16 11C16 8.79086 14.2091 7 12 7ZM18 11C18 13.973 15.8377 16.441 13 16.917V19H15C15.5523 19 16 19.4477 16 20C16 20.5523 15.5523 21 15 21H13V23C13 23.5523 12.5523 24 12 24C11.4477 24 11 23.5523 11 23V21H9C8.44772 21 8 20.5523 8 20C8 19.4477 8.44772 19 9 19H11V16.917C8.16229 16.441 6 13.973 6 11C6 7.68629 8.68629 5 12 5C15.3137 5 18 7.68629 18 11Z" fill="url(#paint2_linear_100_2441)"/>
          </g>
          <defs>
            <linearGradient id="paint0_linear_100_2441" x1="14" y1="1" x2="14" y2="17" gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
            <linearGradient id="paint1_linear_100_2441" x1="10" y1="1" x2="10" y2="17" gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
            <linearGradient id="paint2_linear_100_2441" x1="12" y1="5" x2="12" y2="24" gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
            <clipPath id="clip0_100_2441">
              <rect width="24" height="24" fill="white"/>
            </clipPath>
          </defs>
        </svg>
        <p>{{gender.value | translate}}</p>
      </div>
    </div>
  </div>
  <ion-label>{{'PROFILEPICTURE' | translate}}</ion-label>
  <ion-item lines="none" class="ion-item ion-no-padding">
    <div class="profile-picture-box"  *ngIf="!previewImage">
      <div (click)="getPicture()">
        <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 42 42" fill="none">
          <path d="M38.0625 19.25V29.75C38.0625 33.9815 35.7315 36.3125 31.5 36.3125H10.5C6.2685 36.3125 3.9375 33.9815 3.9375 29.75V12.25C3.9375 8.0185 6.2685 5.6875 10.5 5.6875H22.75C23.4745 5.6875 24.0625 6.2755 24.0625 7C24.0625 7.7245 23.4745 8.3125 22.75 8.3125H10.5C7.74025 8.3125 6.5625 9.49025 6.5625 12.25V28.4375L11.0076 23.9924C11.6901 23.3099 12.8099 23.3099 13.4924 23.9924L15.1375 25.6373C15.47 25.9698 16.03 25.9698 16.3625 25.6373L25.0076 16.9924C25.6901 16.3099 26.8099 16.3099 27.4924 16.9924L35.4375 24.9375V19.25C35.4375 18.5255 36.0255 17.9375 36.75 17.9375C37.4745 17.9375 38.0625 18.5255 38.0625 19.25ZM13.9878 13.5625C12.7821 13.5625 11.8125 14.5425 11.8125 15.75C11.8125 16.9575 12.7994 17.9375 14.0034 17.9375C15.2092 17.9375 16.1875 16.9575 16.1875 15.75C16.1875 14.5425 15.2109 13.5625 14.0034 13.5625H13.9878ZM29.75 10.0625H31.9375V12.25C31.9375 12.9745 32.5255 13.5625 33.25 13.5625C33.9745 13.5625 34.5625 12.9745 34.5625 12.25V10.0625H36.75C37.4745 10.0625 38.0625 9.4745 38.0625 8.75C38.0625 8.0255 37.4745 7.4375 36.75 7.4375H34.5625V5.25C34.5625 4.5255 33.9745 3.9375 33.25 3.9375C32.5255 3.9375 31.9375 4.5255 31.9375 5.25V7.4375H29.75C29.0255 7.4375 28.4375 8.0255 28.4375 8.75C28.4375 9.4745 29.0255 10.0625 29.75 10.0625Z" fill="url(#paint0_linear_100_2531)"/>
          <defs>
            <linearGradient id="paint0_linear_100_2531" x1="21" y1="3.9375" x2="21" y2="36.3125" gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
          </defs>
        </svg>
        <h6>{{'CHOOSEPROFILEPICTURE' | translate}}</h6>
      </div>
    </div>
    <img (click)="getPicture()" class="preview-img" src="{{previewImage}}" *ngIf="previewImage" />
  </ion-item>
  <ion-button [disabled]="!user.gender" expand="block" size="small" (click)="showAvatars()">{{'CHOOSEAVATAR' | translate}}</ion-button>
  <ion-label>{{'GENDERSEARCHFOR' | translate}}</ion-label>
  <div class="gender-box">
    <div class="gender" *ngFor="let gender of genders" [ngClass]="{'active-gender': user.genderLookingFor?.includes(gender.key)}" (click)="selectGenderFor(gender.key)">
      <div>
        <svg *ngIf="gender.key === 1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <g clip-path="url(#clip0_100_2424)">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M19 4C19.5523 4 20 4.44772 20 5V10C20 10.5523 19.5523 11 19 11C18.4477 11 18 10.5523 18 10V7.41382L14.8906 10.5232C15.5891 11.5041 16 12.7041 16 14C16 17.3137 13.3137 20 10 20C6.68629 20 4 17.3137 4 14C4 10.6863 6.68629 8 10 8C11.2957 8 12.4955 8.41073 13.4763 9.10909L16.5854 6H14C13.4477 6 13 5.55228 13 5C13 4.44772 13.4477 4 14 4H18.9994H18.9998H19ZM6 14C6 11.7909 7.79086 10 10 10C12.2091 10 14 11.7909 14 14C14 16.2091 12.2091 18 10 18C7.79086 18 6 16.2091 6 14Z" fill="url(#paint0_linear_100_2424)"/>
          </g>
          <defs>
            <linearGradient id="paint0_linear_100_2424" x1="12" y1="4" x2="12" y2="20" gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
            <clipPath id="clip0_100_2424">
              <rect width="24" height="24" fill="white"/>
            </clipPath>
          </defs>
        </svg>
        <svg *ngIf="gender.key === 2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <g clip-path="url(#clip0_100_2435)">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 5C9.79086 5 8 6.79086 8 9C8 11.2091 9.79086 13 12 13C14.2091 13 16 11.2091 16 9C16 6.79086 14.2091 5 12 5ZM18 9C18 11.973 15.8377 14.441 13 14.917V17H15C15.5523 17 16 17.4477 16 18C16 18.5523 15.5523 19 15 19H13V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21V19H9C8.44772 19 8 18.5523 8 18C8 17.4477 8.44772 17 9 17H11V14.917C8.16229 14.441 6 11.973 6 9C6 5.68629 8.68629 3 12 3C15.3137 3 18 5.68629 18 9Z" fill="url(#paint0_linear_100_2435)"/>
          </g>
          <defs>
            <linearGradient id="paint0_linear_100_2435" x1="12" y1="3" x2="12" y2="22" gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
            <clipPath id="clip0_100_2435">
              <rect width="24" height="24" fill="white"/>
            </clipPath>
          </defs>
        </svg>
        <svg *ngIf="gender.key === 3" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <g clip-path="url(#clip0_100_2441)">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M21 1C21.5523 1 22 1.44772 22 2V7C22 7.55228 21.5523 8 21 8C20.4477 8 20 7.55228 20 7V4.41382L16.8906 7.52324C17.5891 8.5041 18 9.70407 18 11C18 14.3137 15.3137 17 12 17C8.68629 17 6 14.3137 6 11C6 7.68629 8.68629 5 12 5C13.2957 5 14.4955 5.41073 15.4763 6.10909L18.5854 3H16C15.4477 3 15 2.55228 15 2C15 1.44772 15.4477 1 16 1H20.9994H20.9998H21ZM8 11C8 8.79086 9.79086 7 12 7C14.2091 7 16 8.79086 16 11C16 13.2091 14.2091 15 12 15C9.79086 15 8 13.2091 8 11Z" fill="url(#paint0_linear_100_2441)"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M3 1C2.44772 1 2 1.44772 2 2V7C2 7.55228 2.44771 8 3 8C3.55229 8 4 7.55228 4 7V4.41382L7.10942 7.52324C6.41086 8.5041 6 9.70407 6 11C6 14.3137 8.68629 17 12 17C15.3137 17 18 14.3137 18 11C18 7.68629 15.3137 5 12 5C10.7043 5 9.50447 5.41073 8.52369 6.10909L5.4146 3H8C8.55229 3 9 2.55228 9 2C9 1.44772 8.55229 1 8 1H3.00056H3.00022H3ZM16 11C16 8.79086 14.2091 7 12 7C9.79086 7 8 8.79086 8 11C8 13.2091 9.79086 15 12 15C14.2091 15 16 13.2091 16 11Z" fill="url(#paint1_linear_100_2441)"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 7C9.79086 7 8 8.79086 8 11C8 13.2091 9.79086 15 12 15C14.2091 15 16 13.2091 16 11C16 8.79086 14.2091 7 12 7ZM18 11C18 13.973 15.8377 16.441 13 16.917V19H15C15.5523 19 16 19.4477 16 20C16 20.5523 15.5523 21 15 21H13V23C13 23.5523 12.5523 24 12 24C11.4477 24 11 23.5523 11 23V21H9C8.44772 21 8 20.5523 8 20C8 19.4477 8.44772 19 9 19H11V16.917C8.16229 16.441 6 13.973 6 11C6 7.68629 8.68629 5 12 5C15.3137 5 18 7.68629 18 11Z" fill="url(#paint2_linear_100_2441)"/>
          </g>
          <defs>
            <linearGradient id="paint0_linear_100_2441" x1="14" y1="1" x2="14" y2="17" gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
            <linearGradient id="paint1_linear_100_2441" x1="10" y1="1" x2="10" y2="17" gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
            <linearGradient id="paint2_linear_100_2441" x1="12" y1="5" x2="12" y2="24" gradientUnits="userSpaceOnUse">
              <stop stop-color="#E0030C"/>
              <stop offset="1" stop-color="#9B0207"/>
            </linearGradient>
            <clipPath id="clip0_100_2441">
              <rect width="24" height="24" fill="white"/>
            </clipPath>
          </defs>
        </svg>
        <p>{{gender.value | translate}}</p>
      </div>
    </div>
  </div>
  <ion-label>{{'LOCATION' | translate}}</ion-label>
  <ion-item class="ion-item ion-no-padding">
    <fieldset class="input-item" (click)="showLocations()">
      <p>{{user.location?.location}}</p>
    </fieldset>
  </ion-item>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-button expand="block" size="medium" [disabled]="!user.location || !previewImage"
                (click)="register()">{{'NEXT' | translate}}</ion-button>
  </ion-toolbar>
</ion-footer>
